#!/usr/bin/env ruby

$LOAD_PATH.unshift File.dirname(__FILE__) + '/../lib'
require 'bane'

parser = Bane::CommandLineConfiguration.new(Bane.find_makeables)
servers = parser.process(ARGV) do |error_message|
  puts error_message
  exit 1
end

launcher = Bane::Launcher.new(servers)
launcher.start
trap("SIGINT") { launcher.stop; exit }
launcher.join
